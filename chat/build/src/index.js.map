{"version":3,"sources":["../../src/index.jsx"],"names":["Sticker","state","down","refs","image","draggable","window","addEventListener","setState","e","moved","props","onClick","pressDown","bind","up","move","Component","Photo","Key","onKeyPress","text","className","mouseUp","Keyboard","open","tab","onKeyPressFn","hammer","Hammer","keyboard","get","set","direction","DIRECTION_VERTICAL","on","onSend","type","content","setTimeout","old","onUndo","key","substring","length","id","console","log","borderRight","display","map","sendPhoto","sendSticker","backspace","send","ChatLog","scrollToBottom","closeKeyboard","scrollTop","scrollHeight","message","concat","slice","val","i","backgroundImage","backgroundSize","borderRadius","App","chatLog","addMessage","removeMessage","keyBoard","close","addLog","removeLog","click","document","getElementById","style","left","pageX","top","pageY","opacity","node","render"],"mappings":"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","file":"index.js","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Sticker extends React.Component {\n  state = {down: false}\n\n  componentDidMount() {\n    this.refs.image.draggable = false;\n\n    window.addEventListener(\"touchup\", () => {\n      this.setState({down: false});\n    })\n    window.addEventListener(\"mouseup\", () => {\n      this.setState({down: false});\n    })\n  }\n\n  pressDown(e) {\n    this.setState({down: true});\n    this.moved = false;\n  }\n\n  move() {\n    this.moved = true;\n  }\n\n  up(e) {\n    this.setState({down: false});\n    if (!this.moved)\n      this.props.onClick();\n  }\n\n  render() {\n    return <img ref=\"image\" onTouchStart={this.pressDown.bind(this)} onMouseDown={this.pressDown.bind(this)} onTouchEnd={this.up.bind(this)} onTouchMove={this.move.bind(this)} onMouseUp={this.up.bind(this)} className={\"sticker \" + (this.state.down ? \"down\" : \"\")} src={\"./images/stickers/\" + this.props.image + \".png\"} />\n  }\n}\n\nclass Photo extends React.Component {\n  state = {down: false}\n\n  componentDidMount() {\n    this.refs.image.draggable = false;\n\n    window.addEventListener(\"touchup\", () => {\n      this.setState({down: false});\n    })\n    window.addEventListener(\"mouseup\", () => {\n      this.setState({down: false});\n    })\n  }\n\n  pressDown(e) {\n    this.setState({down: true});\n    this.moved = false;\n  }\n\n  move() {\n    this.moved = true;\n  }\n\n  up(e) {\n    this.setState({down: false});\n    if (!this.moved)\n      this.props.onClick();\n  }\n\n  render() {\n    return <img ref=\"image\" onTouchStart={this.pressDown.bind(this)} onMouseDown={this.pressDown.bind(this)} onTouchEnd={this.up.bind(this)} onTouchMove={this.move.bind(this)} onMouseUp={this.up.bind(this)} className={\"photo \" + (this.state.down ? \"down\" : \"\")} src={\"./images/photos/\" + this.props.image + \".jpg\"} />\n  }\n}\n\nclass Key extends React.Component {\n  state = {down: false}\n\n  componentDidMount() {\n    window.addEventListener(\"touchup\", () => {\n      this.setState({down: false});\n    })\n    window.addEventListener(\"mouseup\", () => {\n      this.setState({down: false});\n    })\n  }\n\n  mouseUp(e) {\n    this.setState({down: false});\n    this.props.onKeyPress(this.props.text);\n  }\n\n  pressDown(e) {\n    this.setState({down: true});\n  }\n\n  render() {\n    return <div\n      className={(this.props.className || \"\") + \" key \" + (this.state.down ? \"down\" : \"\")}\n      onMouseDown={this.pressDown.bind(this)}\n      onMouseUp={this.mouseUp.bind(this)}\n      onTouchStart={this.pressDown.bind(this)}\n      onTouchEnd={this.mouseUp.bind(this)}\n    >\n      <div className=\"back\">\n        {this.props.text}\n      </div>\n    </div>\n  }\n}\n\nclass Keyboard extends React.Component {\n  state = {open: true, text: \"\", tab: \"text\"}\n\n  constructor(props) {\n    super(props);\n\n    this.onKeyPressFn = this.onKeyPress.bind(this);\n  }\n\n  componentDidMount() {\n    this.hammer = new Hammer(this.refs.keyboard);\n    this.hammer.get('swipe').set({ direction: Hammer.DIRECTION_VERTICAL });\n    this.hammer.on('swipeup', (e) => {\n      if (this.state.text != \"\") {\n        this.props.onSend({type: \"text\", content: this.state.text});\n        setTimeout(() => {\n          this.setState({text: \"\"})\n        }, 10);\n      }\n    })\n    this.hammer.on('swipedown', (e) => {\n      var old = this.props.onUndo();\n      setTimeout(() => {\n        if (old && old.type == \"text\") {\n          this.setState({text: old.content})\n        } else {\n          this.setState({text: \"\"})\n        }\n      }, 10);\n    })\n  }\n\n  onKeyPress(key) {\n    this.setState({\n      text: this.state.text + key\n    });\n  }\n\n  open(tab) {\n    this.setState({open: true, tab: tab || \"text\"});\n  }\n\n  close() {\n    this.setState({open: false});\n  }\n\n  backspace() {\n    this.setState({text: this.state.text.substring(0, this.state.text.length-1)})\n  }\n\n  send() {\n    if (this.state.text != \"\") {\n      this.props.onSend({type: \"text\", content: this.state.text});\n      this.setState({open: false, text: \"\"});\n    }\n  }\n\n  sendSticker(id) {\n      this.props.onSend({type: \"sticker\", content: id});\n  }\n\n  sendPhoto(id) {\n      this.props.onSend({type: \"photo\", content: id});\n  }\n\n  render() {\n    console.log(this.state.tab)\n    return <div ref=\"keyboard\" className={\"keyboard \" + (this.state.open ? \"open\" : \"closed\")}>\n      <div className=\"textbox\">\n        <div className={\"photo-btn btn \" + (this.state.tab == \"photo\" ? \"active\" : \"\")} onClick={(e) => this.open(\"photo\")}></div>\n        <div className={\"sticky-btn btn \" + (this.state.tab == \"sticky\" ? \"active\" : \"\")} onClick={(e) => this.open(\"sticky\")}></div>\n        <div className=\"input\" onClick={(e) => this.open(\"text\")}>\n          <div className=\"text\"><pre ref=\"text\">{this.state.text}</pre><span style={{borderRight: this.state.tab == \"text\" ? \"1px solid black\" : \"\"}}></span></div>\n        </div>\n      </div>\n      <div className=\"photos\" style={{display: this.state.tab == \"photo\" ? \"block\" : \"none\"}}>\n        <div className=\"list\">\n          <img src=\"./images/camera.PNG\" />\n          {\n            [1,2,3,4,5].map((id) =>\n              <Photo key={id} image={id} onClick={() => this.sendPhoto(id)}/>\n            )\n          }\n        </div>\n      </div>\n      <div className=\"stickers\" style={{display: this.state.tab == \"sticky\" ? \"block\" : \"none\"}}>\n        <div className=\"list\">\n        {\n          [1,2,3,4,5,6,7,8,9,10].map((id) =>\n            <Sticker key={id} image={id} onClick={() => this.sendSticker(id)}/>\n          )\n        }\n        </div>\n      </div>\n      <div className=\"buttons\" style={{display: this.state.tab == \"text\" ? \"block\" : \"none\"}}>\n        <div className=\"row\">\n          <Key text=\"q\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"w\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"e\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"r\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"t\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"y\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"u\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"i\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"o\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"p\" onKeyPress={this.onKeyPressFn}/>\n        </div>\n\n        <div className=\"row\">\n          <Key text=\"a\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"s\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"d\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"f\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"g\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"h\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"j\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"k\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"l\" onKeyPress={this.onKeyPressFn}/>\n        </div>\n\n        <div className=\"row\">\n          <Key text=\"z\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"x\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"c\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"v\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"b\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"n\" onKeyPress={this.onKeyPressFn}/>\n          <Key text=\"m\" onKeyPress={this.onKeyPressFn}/>\n        </div>\n\n        <div className=\"row\">\n          <Key className=\"space\" text=\" \" onKeyPress={this.onKeyPressFn}/>\n        </div>\n\n        <div className=\"backspace\" onTouchEnd={this.backspace.bind(this)} onMouseUp={this.backspace.bind(this)}></div>\n\n        <Key className=\"send\" text=\"Send\" onKeyPress={this.send.bind(this)}/>\n      </div>\n    </div>\n  }\n}\n\nclass ChatLog extends React.Component {\n  state = {\n    log: []\n  }\n\n  componentDidMount() {\n    this.scrollToBottom();\n\n    this.hammer = new Hammer(this.refs.log);\n    this.hammer.on(\"tap\", () => {\n      this.props.closeKeyboard();\n    })\n  }\n\n  scrollToBottom() {\n    setTimeout(() => {\n      this.refs.log.scrollTop = this.refs.log.scrollHeight;\n    }, 100);\n  }\n\n  addMessage(message) {\n    this.setState({\n      log: this.state.log.concat([message])\n    });\n    this.scrollToBottom();\n  }\n\n  removeMessage() {\n    var old = this.state.log[this.state.log.length-1];\n    this.setState({\n      log: this.state.log.slice(0, this.state.log.length-1)\n    });\n    return old;\n  }\n\n  render() {\n    return <div ref=\"log\" className=\"chatLog\">\n      <div className=\"chat\">\n        {this.state.log.map((val, i) =>\n          <div className=\"log\" key={i}>\n            <div className=\"avatar\" style={{backgroundImage: \"url(./images/rick.jpg)\", backgroundSize: \"cover\", borderRadius: \"3px\"}}></div>\n            <div className=\"message\">\n              <div className=\"heading\"><span className=\"name\">Rick Gonzalez</span><span className=\"time\">7:37 PM</span></div>\n              <p>{val.type == \"text\" ? val.content : val.type == \"sticker\" ? <img className=\"sticker\" src={\"./images/stickers/\" + val.content + \".png\"} /> : val.type == \"photo\" ? <img className=\"sticker\" src={\"./images/photos/\" + val.content + \".jpg\"} /> : \"\"}</p>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  }\n}\n\nclass App extends React.Component {\n  addLog(message) {\n    this.refs.chatLog.addMessage(message);\n  }\n\n  removeLog() {\n    return this.refs.chatLog.removeMessage();\n  }\n\n  closeKeyboard() {\n    this.refs.keyBoard.close();\n  }\n\n  render() {\n    return <div>\n      <img src=\"./images/topbar.png\" width=\"375px\"/>\n      <ChatLog closeKeyboard={this.closeKeyboard.bind(this)} ref=\"chatLog\" />\n      <Keyboard onSend={this.addLog.bind(this)} onUndo={this.removeLog.bind(this)} ref=\"keyBoard\" />\n    </div>\n  }\n}\n\nvar click = document.getElementById(\"click\");\n\nwindow.addEventListener('touchstart', (e) => {\n  console.log(\"start!\");\n  console.log(e);\n  click.style.left = e.pageX + \"px\";\n  click.style.top = e.pageY + \"px\";\n  click.style.opacity = 0.5;\n})\n\nwindow.addEventListener('touchmove', (e) => {\n  console.log(\"MOVE!\");\n  click.style.left = e.pageX + \"px\";\n  click.style.top = e.pageY + \"px\";\n})\n\nwindow.addEventListener('touchend', (e) => {\n  click.style.opacity = 0;\n})\n\nvar node = document.getElementById(\"app\");\nReactDOM.render(<App />, node);\n"]}